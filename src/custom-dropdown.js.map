{"version":3,"file":"custom-dropdown.js","sourceRoot":"","sources":["custom-dropdown.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, html, css } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\n\nexport interface DropdownOption {\n  value: string;\n  label: string;\n}\n\n/**\n * Custom dropdown component that replaces the native select element\n *\n * @element custom-dropdown\n */\n@customElement('custom-dropdown')\nexport class CustomDropdown extends LitElement {\n  /**\n   * Array of dropdown options\n   */\n  @property({ type: Array }) \n  options: DropdownOption[] = [];\n\n  /**\n   * The currently selected index (0 means placeholder)\n   */\n  @property({ type: Number }) \n  selectedIndex = 0;\n\n  /**\n   * Width of the dropdown\n   */\n  @property({ type: String }) \n  width = '200px';\n  \n  /**\n   * Label for when no option is selected\n   */\n  @property({ type: String }) \n  placeholder = 'Select an option';\n\n  /**\n   * Whether the dropdown is currently open\n   */\n  @state() \n  private isOpen = false;\n\n  static styles = css`\n    :host {\n      display: block;\n    }\n    \n    .custom-select {\n      position: relative;\n      font-family: Arial;\n    }\n\n    .custom-select select {\n      display: none;\n    }\n\n    .select-selected {\n      padding: 8px 16px;\n      border: 1px solid transparent;\n      border-color: transparent transparent rgba(0, 0, 0, 0.1) transparent;\n      cursor: pointer;\n      user-select: none;\n    }\n    \n    .select-selected:after {\n      position: absolute;\n      content: \"\";\n      top: 14px;\n      right: 10px;\n      width: 0;\n      height: 0;\n      border: 6px solid transparent;\n      border-color: #000000 transparent transparent transparent;\n    }\n    \n    .select-selected.select-arrow-active:after {\n      border-color: transparent transparent #000000 transparent;\n      top: 7px;\n    }\n    \n    .select-items {\n      position: absolute;\n      top: 100%;\n      left: 0;\n      right: 0;\n      z-index: 99;\n    }\n    \n    .select-items div {\n      padding: 8px 16px;\n      border: 1px solid transparent;\n      border-color: transparent transparent rgba(0, 0, 0, 0.1) transparent;\n      cursor: pointer;\n      user-select: none;\n    }\n    \n    .select-hide {\n      display: none;\n    }\n    \n    .select-items div:hover, .same-as-selected {\n      background-color: rgba(0, 0, 0, 0.1);\n    }\n  `;\n\n  render() {\n    return html`\n      <div class=\"custom-select\" style=\"width: ${this.width};\">\n        <div \n          class=\"select-selected ${this.isOpen ? 'select-arrow-active' : ''}\"\n          @click=\"${this._toggleDropdown}\"\n        >\n          ${this.selectedIndex === 0 \n            ? this.placeholder \n            : this.options[this.selectedIndex - 1].label}\n        </div>\n        <div class=\"select-items ${this.isOpen ? '' : 'select-hide'}\">\n          ${this.options.map((option, index) => html`\n            <div\n              class=\"${this.selectedIndex === index + 1 ? 'same-as-selected' : ''}\"\n              @click=\"${() => this._selectOption(index + 1)}\"\n            >\n              ${option.label}\n            </div>\n          `)}\n        </div>\n      </div>\n    `;\n  }\n\n  constructor() {\n    super();\n    // Set up global event listener for handling dropdown coordination\n    document.addEventListener('dropdown-opened', ((e: CustomEvent) => {\n      if (e.detail.source !== this) {\n        this.isOpen = false;\n      }\n    }) as EventListener);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    document.addEventListener('click', this._closeAllSelect);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    document.removeEventListener('click', this._closeAllSelect);\n  }\n\n  private _toggleDropdown(e: Event) {\n    e.stopPropagation();\n    this.isOpen = !this.isOpen;\n    \n    if (this.isOpen) {\n      // Close all other dropdowns when this one opens\n      document.dispatchEvent(new CustomEvent('dropdown-opened', {\n        bubbles: true,\n        composed: true,\n        detail: { source: this }\n      }));\n    }\n  }\n\n  private _selectOption(index: number) {\n    this.selectedIndex = index;\n    this.isOpen = false;\n    \n    this.dispatchEvent(new CustomEvent('change', {\n      bubbles: true,\n      composed: true,\n      detail: {\n        value: this.options[index - 1].value,\n        index: index,\n        option: this.options[index - 1]\n      }\n    }));\n  }\n\n  private _closeAllSelect = (e: MouseEvent) => {\n    // Close if clicked outside this element\n    if (!this.contains(e.target as Node)) {\n      this.isOpen = false;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'custom-dropdown': CustomDropdown;\n  }\n}\n"]}